/*== ShyFox Sidebery ================================================================================================================================

Styles for sidebery

--- SETTINGS ----------------------------------------------------------------------------------------------------------------------------------------

Global variables for all content

*/

@-moz-document regexp("^moz-extension://.*?/sidebar/sidebar.html")
{
  /* manual variables */

  #root.root {
    --general-border-radius: 11.5px !important;
    --general-margin: 4px !important;

    --nav-btn-margin: 8px !important;
    --nav-btn-width: 35px !important;
    --nav-btn-height: 35px !important;
    --nav-btn-len-margin: 3px !important;

    --tabs-audio-btn-width: 22px !important;
    --tabs-margin: 7px !important;
    --tabs-height: 35px !important;
    --tabs-inner-gap: 5px !important;
    --tabs-border-radius: 15px !important;

    --shy-color: #3584e4;

    --accent: var(--shy-color) !important;
    --frame-el-overlay-selected-border: var(--accent) !important;
  }

  /* PINNED TABS */

  /* height calculation */
  #root.root {
    --tabs-pinned-height: calc((100vw - var(--tabs-margin)) / 3.6) !important;
  }

  /* 1 pinned tab */

  .PinnedTabsBar .tab-wrapper:nth-child(1):last-child {
    width: -moz-available !important;
    .Tab {
      height: calc(var(--tabs-pinned-height) / 1.4) !important;
    }
  }

  /* 4 tabs in bottom row */

  .PinnedTabsBar:has(
      .tab-wrapper:is(
          :nth-child(4),
          :nth-child(7),
          :nth-child(10),
          :nth-child(13),
          :nth-child(16),
          :nth-child(19),
          :nth-child(22),
          :nth-child(25),
          :nth-child(28),
          :nth-child(31),
          :nth-child(34),
          :nth-child(37),
          :nth-child(40),
          :nth-child(43),
          :nth-child(46)
        ):last-child
    ) {
    .tab-wrapper:nth-last-child(-n + 4) {
      width: calc(100% / 4 - var(--tabs-margin) + 1.6px) !important;
      .Tab {
        height: calc(var(--tabs-pinned-height) / 1.3) !important;
      }
    }
  }

  /* 2 tabs in bottom row */

  .PinnedTabsBar:has(
      .tab-wrapper:is(
          :nth-child(2),
          :nth-child(5),
          :nth-child(8),
          :nth-child(11),
          :nth-child(14),
          :nth-child(17),
          :nth-child(20),
          :nth-child(23),
          :nth-child(26),
          :nth-child(29),
          :nth-child(32),
          :nth-child(35),
          :nth-child(38),
          :nth-child(41),
          :nth-child(44),
          :nth-child(47)
        ):last-child
    ) {
    .tab-wrapper:nth-last-child(-n + 2) {
      width: calc(100% / 2 - var(--tabs-margin) + 3.5px) !important;
      .Tab {
        height: calc(var(--tabs-pinned-height) / 1.2) !important;
      }
    }
  }

  /* 3 tabs in any row */

  .PinnedTabsBar .tab-wrapper {
    width: calc(100% / 3 - var(--tabs-margin) + 2.3px) !important;

    .Tab {
      width: -moz-available !important;
    }
  }

  /* audio icon */
  .Tab[data-pin="true"] > .body > .audio {
    background: transparent !important;
    box-shadow: none !important;
    right: 7px !important;
    top: 7px !important;
  }

  /* bigger favicon */
  .Tab[data-pin="true"] > .body > .fav > .fav-icon {
    width: 30px !important;
    height: 30px !important;
    top: -7.5px !important;
    left: -6.5px !important;
  }

  /* match badge to bigger icon */
  .Tab[data-pin="true"] > .body > .fav > .badge {
    right: -8.5px !important;
    bottom: -7px !important;
  }

  /* shadow, outline and background */
  .Tab[data-pin="true"] .body {
    box-shadow: 0px 0px 9px #00000030 !important;
    border: 1px solid var(--s-frame-bg) !important;
    background-color: var(--toolbar-bg) !important;
  }

  /* selected tab outline */
  .Tab[data-pin="true"][data-active="true"] .body {
    border: 1px solid var(--s-frame-fg) !important;
  }

  /* remove bottom margin */
  .PinnedTabsBar {
    margin-bottom: 0px !important;
  }

  /* OTHER */

  /* consistent navbar background */
  #nav_bar {
    background-color: transparent !important;
  }

  .fav::after {
    content: "" !important;
    position: absolute !important;
    z-index: -999 !important;

    border-radius: 5px !important;

    width: 100% !important;
    height: 100% !important;

    background-color: rgba(80, 80, 80, 0.2) !important;
  }

  /* remove padding on top */
  #nav_bar {
    padding-top: 0px !important;
  }

  /* popup */
  .popup {
    margin: 6px !important;
  }
  .popup-container {
    background-color: transparent;
  }

  /* search */
  #search_bar {
    margin: 4px !important;
  }
}
