@-moz-document url("about:config"){

:root{
  --sm-tr-txt: color-mix( in srgb, var(--in-content-page-color), transparent 50% );
}
  
/* Make it possible to change the order of elements */
#prefs{
  display: grid !important;
  
  & > * {
    width: 100% !important;
    th[scope="row"]{ width: calc( 50vw - 68px ) !important; }
    .cell-value    { width: calc( 50vw - 40px ) !important; }
  }
}

/* searchbox with */
#about-config-search{
  max-width: 500px !important;
}

/* shiny text for checkbox */
@keyframes rainbow {
  0%   {background-position: 0% 50%;}
  100% {background-position: 500% 50%;}
}

span[data-l10n-id="about-config-show-only-modified"]::after{
  content: " and enable ShyFox values descriptions";
  
  background: linear-gradient(to right, #3572EF, #3ABEF9, #A7E6FF, #3572EF);
  background-size: 500% 100%;
  animation: rainbow 13s linear infinite;
  background-clip: text;
  color: transparent;
}

:root:has( #about-config-show-only-modified:checked ):not(:has( #prefs[has-visible-prefs], #about-config-search:focus  )){
  #toolbar::before{
    content: "shyfox.";
    
    position: absolute;
    pointer-events: none;
    
    left: 42px;
    top: 20px;
    width: 450px;
    
    color: var(--sm-tr-txt);
    background: var(--in-content-box-background);
    
  }
}
  
/* actual prefs customizing */
:root:has(
  /* The condition is rather fuzzy and checks the number of items shown on the screen. There is no way to know for sure that these styles apply to the right parameters */
  
  /*                     vvvv <<<< Number of all shyfox parameters + 1 */  
  #prefs .add:nth-child(  10  of :not(.hidden) )
  
):has( #about-config-show-only-modified:checked ) {
  
  #prefs{
    
    --max:  99999;
    --min: -99999;
    
    --odd-bg: var(--in-content-box-background-odd);
    
    .add{ order: calc( var(--max) + 1 ) !important; }
    
    .has-user-value{
      order: var(--order) !important;
      
      padding-bottom: var(--text-hgt) !important;
      
      --bg: transparent;
      &:not(:hover){ background: var(--bg) !important; }
    }
    
    .has-user-value th[scope="row"]{ color: var(--color) !important; }
    
    .has-user-value th[scope="row"]::after{
      content: var(--description);
      
      position: absolute;
      left: 50px;
      margin-top: 30px;
      width: 450px !important;
      font-style: italic !important;

      color: var(--sm-tr-txt);
    }
    
    /* 1 - shyfox.appearance.leftbar.gapless */
    & > .has-user-value:nth-child( 1 of :not(.hidden) ){
      --color: lightblue;
      --bg: var(--odd-bg);
      --order: calc( var(--min) + 6 );
    }
    
    /* 2 - shyfox.appearance.topbar.gapless */
    & > .has-user-value:nth-child( 2 of :not(.hidden) ){
      --color: lightblue;
      --order: calc( var(--min) + 7 );
    }
    
    /* 3 - shyfox.debug.color */
    & > .has-user-value:nth-child( 3 of :not(.hidden) ){
      --color: tomato;
      --bg: var(--odd-bg);
      --order: calc( var(--min) + 8 );
    }
    
    /* 4 - shyfox.position.bookmarkbar */
    & > .has-user-value:nth-child( 4 of :not(.hidden) ){
      --color: pink;
      --order: calc( var(--min) + 3 );
        
      --text-hgt: 25px;
      --description: "sample text"
    }
    
    /* 5 - shyfox.position.extbutton */
    & > .has-user-value:nth-child( 5 of :not(.hidden) ){
      --color: bisque;
      --order: calc( var(--min) + 5 );
    }
    
    /* 6 - shyfox.position.menubutton */
    & > .has-user-value:nth-child( 6 of :not(.hidden) ){
      --color: bisque;
      --bg: var(--odd-bg);
      --order: calc( var(--min) + 4 );
    }
    
    /* 7 - shyfox.position.navbar */
    & > .has-user-value:nth-child( 7 of :not(.hidden) ){
      --color: pink;
      --order: calc( var(--min) + 1 );
      
      --text-hgt: 45px;
      --description: "Defines the position of the navigation bar. False = top, True = left (above sidebar)";
    }
    
    /* 8 - shyfox.position.tabbar */
    & > .has-user-value:nth-child( 8 of :not(.hidden) ){
      --color: pink;
      --bg: var(--odd-bg);
      --order: calc( var(--min) + 2 );
      
      --text-hgt: 45px;
      --description: "Defines the position of the tab bar. False = top (horizontal tabs can be used), True = right (as a toolbar without tabs).";
    }
    
    /* 9 - shyfox.remove.tabbar */
    & > .has-user-value:nth-child( 9 of :not(.hidden) ){
      --color: turquoise;
      --order: calc( var(--min) + 9 );
      
      @media not (-moz-bool-pref: "shyfox.position.tabbar") { opacity: 0.5 !important;  }
    }
  }
} }
